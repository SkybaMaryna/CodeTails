{"mappings":"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","sources":["src/js/fetch-cocktails.js","src/js/calculate.js","src/js/pagination.js","src/js/get-drinks-markup.js","src/js/modal-cocktails.js","src/js/modal-ingredients.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-04a41f6bd86c6c67.js","src/js/favorite-storage.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-23d0d47371ee3427.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-c99c6a6f63ee24a5.js","src/js/get-ingredients-markup.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-c76e54350e07bcb6.js","src/js/fav-ingredients.js"],"sourcesContent":["export function fetchRandomCocktails(amount) {\n  const allPromises = [];\n\n  for (let count = 0; count < amount; count++) {\n    allPromises.push(\n      fetch('https://thecocktaildb.com/api/json/v1/1/random.php').then(\n        response => response.json()\n      )\n    );\n  }\n\n  return Promise.all(allPromises).then(data => {\n    return data.map(item => item.drinks[0]);\n  });\n}\n\nexport function fetchCocktailsByName(name) {\n  return fetch(`https://thecocktaildb.com/api/json/v1/1/search.php?s=${name}`)\n    .then(response => response.json())\n    .then(({ drinks }) => {\n      if (!drinks) throw \"Sorry, we didn't find<br>any cocktail for you\";\n\n      return drinks;\n    });\n}\n\nexport function fetchCocktailById(id) {\n  return fetch(`https://thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`)\n    .then(response => response.json())\n    .then(({ drinks }) => drinks[0]);\n}\n\nexport function fetchIngredientByName(name) {\n  return fetch(`https://thecocktaildb.com/api/json/v1/1/search.php?i=${name}`)\n    .then(response => response.json())\n    .then(({ ingredients }) => ingredients[0]);\n}\nexport function fetchCocktailsByLetter(firstLetter) {\n  return fetch(\n    `https://thecocktaildb.com/api/json/v1/1/search.php?f=${firstLetter}`\n  )\n    .then(response => response.json())\n    .then(({ drinks }) => {\n      if (!drinks) throw \"Sorry, we didn't find<br>any cocktail for you\";\n\n      return drinks;\n    });\n}\n","export function calculateCocktails() {\n  const width = document.body.clientWidth;\n  let numberOfCocktails = 3;\n\n  if (width >= 768) {\n  numberOfCocktails = 6;\n}\nif (width >= 1280) {\n  numberOfCocktails = 9;\n}\n  return numberOfCocktails;\n}","import { calculateCocktails } from \"./calculate\";\nimport { getDrinksMarkup } from \"./get-drinks-markup\";\n\nlet searchResults;\nlet contentResults;\nlet getMarkup;\nconst pagination = document.querySelector('#pagination');\nexport function createPagination(results, pageSize, pageNumber, markupFn) {\n  getMarkup = markupFn ?? getMarkup ?? getDrinksMarkup;\n  contentResults = document.querySelector('.content-results')\n  searchResults=results;\n  const totalResults=results.length;\n  const pagesCount = Math.ceil(totalResults / pageSize);\n  if (pagesCount === 1) {\n    return '';\n  }\n  let inactive = pageNumber === 1 ? ' inactive' : '';\n  let result = `<div class = \"pagination-line\"><li class=\"pagination__number left-arrow${inactive}\" data-page=\"${\n    pageNumber - 1\n  }\">&lt;</li>`;\n  const pagesToShow = [\n    1,\n    pageNumber - 1,\n    pageNumber,\n    pageNumber + 1,\n    pagesCount,\n  ];\n  let dotsAdded = false;\n  for (let i = 1; i <= pagesCount; i++) {\n    const active = i === pageNumber ? ' inactive' : '';\n    \n    if (pagesToShow.includes(i)) {\n      result += `<li class=\"pagination__number${active}\" data-page=\"${i}\">${i}</li>`;\n      dotsAdded = false;\n    }\n    else if(!dotsAdded) {\n      result += `<li class=\"pagination__number inactive dots\">...</li>`;\n      dotsAdded = true;\n    }\n  }\n  inactive = pageNumber === pagesCount ? ' inactive' : '';\n  result += `<li class=\"pagination__number right-arrow${inactive}\" data-page=\"${\n    pageNumber + 1\n  }\">&gt;</li></div>`;\n  pagination.innerHTML = result;\n  addPaginationListeners();\n}\n\n\nfunction changePage(e) {\n  const page = Number(e.target.dataset.page);\n  const numberOfCocktails = calculateCocktails();\n  const data = searchResults;\n  const end = page * numberOfCocktails;\n  const start = end - numberOfCocktails;\n  contentResults.innerHTML = '';\n  contentResults.append (...getMarkup(data.slice(start, end)));\n  createPagination(data, numberOfCocktails, page);\n  \n}\n\nfunction addPaginationListeners() {\n  const pageElements = document.querySelectorAll('.pagination__number');\n  for (const el of pageElements) {\n    if (el.className.includes('inactive')) continue;\n    el.addEventListener('click', changePage);\n  }\n\n}","import { showDrinkModal } from './modal-cocktails';\nimport heartIcon from 'bundle-text:../img/heart-icon.svg';\nimport { FavoriteStorage } from \"./favorite-storage\";\n\nexport function getDrinksMarkup(array) {\n    const markup = array.map(({ strDrink, strDrinkThumb, idDrink }) => {\n        return getCardMarkup(strDrink, strDrinkThumb, idDrink);\n    });\n    return markup;\n}\nfunction getCardMarkup(name, imageSrc, id) {\n    const li = document.createElement('li');\n    const isInFavorite = FavoriteStorage.isCocktailInFavorite(id);\n    const addRemoveClassName = isInFavorite ? 'btn__add icon-active' : 'btn__add';\n    const btnText = isInFavorite ? 'Remove' : 'Add to';\n    li.className = 'cocktails__item';\n    li.innerHTML = `\n        <img class=\"cocktails__img\" src=\"${imageSrc}\" alt=\"cocktail\"/>\n        <div class=\"cocktails__descr\">\n            <h3 title=\"${name}\" class=\"cocktails__name\">${name}</h3>\n            <div class=\"cocktails__btns\">\n                <button class=\"btn__learn\" type=\"button\" data-name=\"learn-more\" data-id=\"${id}\" >Learn more</button>\n                <button class=\"${addRemoveClassName}\" type=\"button\" data-name=\"add-remove\" data-id=\"${id}\"><span data-name=\"add-remove\" class=\"btn-text\">${btnText}</span> <span data-name=\"add-remove\" class=\"heart-icon\">${heartIcon}</span></button>\n            </div>\n        </div>\n        `;\n    li.addEventListener('click', handleCardClick);\n    return li;\n}\n\nexport function handleCardClick(event) {\n    const buttonName = event.target.dataset.name;\n    if (buttonName === 'learn-more') {\n        const id = event.target.dataset.id;\n        showDrinkModal(id);\n    }\n    if (buttonName === 'add-remove' || buttonName === 'heart-icon') {\n        const addRemoveBtn = event.currentTarget.querySelector('.btn__add');\n        const btnText = addRemoveBtn.querySelector('.btn-text');\n        const id = addRemoveBtn.dataset.id;\n        addRemoveBtn.classList.toggle('icon-active');\n        if (FavoriteStorage.isCocktailInFavorite(id)) {\n            FavoriteStorage.removeCocktail(id);\n            btnText.textContent = \"Add to\";\n        } else {\n            FavoriteStorage.addCocktail(id);\n            btnText.textContent = \"Remove\";\n        }\n    }\n}\n","import { fetchCocktailById } from './fetch-cocktails';\nimport { showIngredientModal } from './modal-ingredients';\nimport cocktailModalClose from 'bundle-text:../img/modal-close.svg';\nimport { fetchCocktailById } from './fetch-cocktails';\nimport { FavoriteStorage } from './favorite-storage';\n\nconst drinkModal = document.querySelector('#modal-drink-detail');\n\nexport function showDrinkModal(id) {\n  fetchCocktailById(id).then(data => {\n    drinkModal.innerHTML = getDrinkModalMarkup(data);\n    const closeCocktailBtn = drinkModal.querySelector('.modal__button');\n    const ingredientList = drinkModal.querySelector('.ingredients__list');\n    const addRemoveBtn = drinkModal.querySelector('.modal__button-add');\n\n    ingredientList.innerHTML = getIngredientsList(data);\n    ingredientList.addEventListener('click', showIngredientModal);\n    closeCocktailBtn.addEventListener('click', closeCocktailModal);\n    addRemoveBtn.addEventListener('click', handleAddRemoveCocktail);\n    drinkModal.classList.toggle('show-modal');\n  });\n}\n\nfunction getDrinkModalMarkup(details) {\n  const isInFavorite = FavoriteStorage.isCocktailInFavorite(details.idDrink);\n  const btnText = isInFavorite ? 'Remove from favorite' : 'Add to favorite';\n  return `\n    <button class=\"modal__button\" data-modal-close>\n    ${cocktailModalClose}\n    </button>\n        <div class=\"modal__cocktail\">\n            <h3 class=\"modal__title\">${details.strDrink}</h3>\n            <div class=\"modal__instructions-hold\">\n                <h4 class=\"modal__instructions\">INSTRUCTION:</h4>\n                <p class=\"instruction\">${details.strInstructions}</p>\n            </div>\n            <div class=\"modal__ingredients-hold\">\n                <img class=\"modal__picture\" src=\"${details.strDrinkThumb}\" alt=\"\" width=\"280\" height=\"280\" />\n                <h4 class=\"modal__ingredients\">INGREDIENTS</h4>\n                <p class=\"modal__description\">Per cocktail</p>\n                <ul class=\"ingredients__list\"></ul>\n            </div>\n            <button class=\"modal__button-add\" data-id=\"${details.idDrink}\" name=\"add-remove\" type=\"button\"> ${btnText} </button>\n        </div>\n    `;\n}\nfunction getIngredientsList(details) {\n  let ingredients = '';\n  for (let i = 1; i <= 15; i++) {\n    let ingredient = details['strIngredient' + i];\n    let ingredientAmount = details['strMeasure' + i];\n    if (ingredient) {\n      ingredients += `<li class=\"ingredient__item\" data-ingredient=\"${ingredient}\" > <span class=\"ingredients-black\" >✶ </span>${ingredientAmount || ''}<span data-name=\"ingredient\" data-ingredient=\"${ingredient}\" class=\"ingredient__focus\"> ${ingredient}<span/></li>`;\n    } else {\n      break;\n    }\n  }\n  return ingredients;\n}\n\nfunction closeCocktailModal() {\n  drinkModal.innerHTML = '';\n  drinkModal.classList.toggle('show-modal');\n}\n\nexport function handleAddRemoveCocktail(event) {\n  const id = event.target.dataset.id;\n  const buttonFromCard = document.querySelector(`.btn__add[data-id=\"${id}\"]`);\n\n  buttonFromCard.classList.toggle('icon-active');\n\n  if (FavoriteStorage.isCocktailInFavorite(id)) {\n    FavoriteStorage.removeCocktail(id);\n    event.target.textContent = \"Add to favorite\";\n    buttonFromCard.querySelector('.btn-text').innerHTML = 'Add to';\n  } else {\n    FavoriteStorage.addCocktail(id);\n    event.target.textContent = \"Remove from favorite\";\n    buttonFromCard.querySelector('.btn-text').innerHTML = 'Remove';\n  }\n}\n","import { fetchIngredientByName } from './fetch-cocktails';\nimport ingredientClose from 'bundle-text:../img/modal-close.svg';\nimport { FavoriteStorage } from './favorite-storage';\n\nconst ingredientModal = document.querySelector('#modal-ingredients-details');\nexport function showIngredientModal(event) {\n  if (event.target.dataset.name !== 'ingredient') {\n    return;\n  }\n  fetchIngredientByName(event.target.dataset.ingredient).then(data => {\n    ingredientModal.innerHTML = getIngredientModalMarkup(data);\n    const closeIngredientBtn = ingredientModal.querySelector(\n      '.ingredients__button-close'\n    );\n    const addRemoveBtn = ingredientModal.querySelector('.ingredients__button');\n    addRemoveBtn.addEventListener('click', handleAddRemoveIngredient);\n    closeIngredientBtn.addEventListener('click', closeIngredientModal);\n    ingredientModal.classList.toggle('show-modal');\n  });\n}\n\nfunction getIngredientModalMarkup(details) {\n  const isInFavorite = FavoriteStorage.isIngredientInFavorite(\n    details.strIngredient\n  );\n  const btnText = isInFavorite ? 'Remove from favorite' : 'Add to favorite';\n  const description = !details.strDescription\n    ? 'Sorry, there is no description for this ingredient'\n    : details.strDescription.replace(\n        details.strIngredient,\n        `<strong class=\"ingredients__bold-name\">${details.strIngredient}</strong>`\n      );\n\n  return `\n    <div class=\"ingredients__btn\">\n    <button type=\"button\" class=\"ingredients__button-close\">\n    ${ingredientClose}\n    </button>\n  </div>\n  <h2 class=\"ingredients__title\">${details.strIngredient}</h2>\n  <h3 class=\"ingredients__topic\">${details.strType || '-'}</h3>\n  <div class=\"ingredients__line-container\">\n    <div class=\"ingredients__line\"></div>\n  </div>\n  <p class=\"ingredients__text\">\n    ${description}\n  </p>\n  <ul class=\"ingredients__list\">\n  <li class=\"ingredients__item\"> <span class=\"ingredients__black\">✶ </span> Type: ${\n    details.strType || '-'\n  }</li>\n  <li class=\"ingredients__item\"> <span class=\"ingredients__black\">✶ </span> Alcoholic: ${\n    details.strAlcohol || '-'\n  }</li>\n  <li class=\"ingredients__item\"> <span class=\"ingredients__black\">✶ </span> Alcohol by volume: ${\n    details.strABV || '-'\n  }</li>\n  </ul>\n  <button type=\"button\" class=\"ingredients__button\" data-name=\"add-remove\" data-id=\"${\n    details.strIngredient\n  }\">${btnText}</button>`;\n}\n\nfunction closeIngredientModal() {\n  ingredientModal.innerHTML = '';\n  ingredientModal.classList.toggle('show-modal');\n}\nexport function handleAddRemoveIngredient(event) {\n  const name = event.target.dataset.id;\n  const isOnIngredientsPage = !!document.querySelector(\n    '[data-page=\"fav-ingredients\"]'\n  );\n  let buttonFromCard = null;\n\n  if (isOnIngredientsPage) {\n    buttonFromCard = document.querySelector(`.btn__add[data-id=\"${name}\"]`);\n    buttonFromCard.classList.toggle('icon-active');\n  }\n\n  if (FavoriteStorage.isIngredientInFavorite(name)) {\n    FavoriteStorage.removeIngredient(name);\n    event.target.textContent = 'Add to favorite';\n    if (isOnIngredientsPage) {\n      buttonFromCard.querySelector('.btn-text').innerHTML = 'Add to';\n    }\n  } else {\n    FavoriteStorage.addIngredient(name);\n    event.target.textContent = 'Remove from favorite';\n    if (isOnIngredientsPage) {\n      buttonFromCard.querySelector('.btn-text').innerHTML = 'Remove';\n    }\n  }\n}\n","module.exports = \"0beea7c65c9eb400\";","export const FavoriteStorage = {\n    cocktailsKey: 'fav-cocktails',\n    ingredientsKey: 'fav-ingredients',\n\n    getCocktails() {\n        return JSON.parse(localStorage.getItem(this.cocktailsKey)) || [];\n    },\n    getIngredients() {\n        return JSON.parse(localStorage.getItem(this.ingredientsKey)) || [];\n    },\n    isCocktailInFavorite(id) {\n        return this.getCocktails().includes(id);\n    },\n    isIngredientInFavorite(name) {\n        return this.getIngredients().includes(name);\n    },\n    addCocktail(id) {\n        const tmp = this.getCocktails();\n        tmp.push(id);\n        localStorage.setItem(this.cocktailsKey, JSON.stringify(tmp));\n    },\n    removeCocktail(id) {\n        const tmp = this.getCocktails();\n        const idIndex = tmp.indexOf(id);\n\n        tmp.splice(idIndex, 1);\n        localStorage.setItem(this.cocktailsKey, JSON.stringify(tmp));\n    },\n    addIngredient(name) {\n        const tmp = this.getIngredients();\n        tmp.push(name);\n        localStorage.setItem(this.ingredientsKey, JSON.stringify(tmp));\n    },\n    removeIngredient(name) {\n        const tmp = this.getIngredients();\n        const idIndex = tmp.indexOf(name);\n\n        tmp.splice(idIndex, 1);\n        localStorage.setItem(this.ingredientsKey, JSON.stringify(tmp));\n    }\n}","module.exports = \"1d0034fb165deed5\";","module.exports = \"5f388f2b1a2283e9\";","import { showIngredientModal } from './modal-ingredients';\nimport heartIcon from 'bundle-text:../img/heart-icon.svg';\nimport { FavoriteStorage } from \"./favorite-storage\";\nexport function getDrinksMarkupIngredients(array) {\n    const markup = array.map(({ strIngredient, strType }) => {\n        return getCardMarkupIngredients(strIngredient, strType);\n    });\n    return markup;\n}\nfunction getCardMarkupIngredients(name, strType) {\n    const li = document.createElement('li');\n    li.className = 'cocktails__item cocktails__item-ingredients';\n    const isInFavorite = FavoriteStorage.isIngredientInFavorite(name);\n    const addRemoveClassName = isInFavorite ? 'btn__add icon-active' : 'btn__add';\n    const btnText = isInFavorite ? 'Remove' : 'Add to';\n    li.innerHTML = `\n            <div class=\"cocktails__descr cocktails__container\">\n            <h3 title=\"${name}\" class=\"cocktails__name cocktails__name--ingredients\">${name}</h3>\n            <p title=\"${strType}\" class=\"cocktails__category\">${strType || 'Common'}</p>\n            <div class=\"cocktails__btns\">\n                <button class=\"btn__learn\" type=\"button\" data-name=\"ingredient\" data-ingredient=\"${name}\" data-id=\"${name}\" >Learn more</button>\n                <button class=\"${addRemoveClassName}\" type=\"button\" data-name=\"add-remove\" data-id=\"${name}\"><span data-name=\"add-remove\" class=\"btn-text\">${btnText}</span> <span data-name=\"add-remove\" class=\"heart-icon\">${heartIcon}</span></button>\n            </div>\n        </div>\n        `;\n    li.addEventListener('click', handleIngredientCardClick);\n    return li;\n}\nexport function handleIngredientCardClick(event) {\n    const buttonName = event.target.dataset.name;\n    if (buttonName === 'ingredient') {\n        showIngredientModal(event);\n    }\n    if (buttonName === 'add-remove' || buttonName === 'heart-icon') {\n        const addRemoveBtn = event.currentTarget.querySelector('.btn__add');\n        const btnText = addRemoveBtn.querySelector('.btn-text');\n        const name = addRemoveBtn.dataset.id;\n        addRemoveBtn.classList.toggle('icon-active');\n        if (FavoriteStorage.isIngredientInFavorite(name)) {\n            FavoriteStorage.removeIngredient(name);\n            btnText.textContent = \"Add to\";\n        } else {\n            FavoriteStorage.addIngredient(name);\n            btnText.textContent = \"Remove\";\n        }\n    }\n}","module.exports = \"c7faef194cdf72d6\";","import { getDrinksMarkupIngredients } from './get-ingredients-markup';\nimport { fetchIngredientByName } from './fetch-cocktails';\nimport { FavoriteStorage } from './favorite-storage';\nimport { calculateCocktails } from './calculate';\nimport { createPagination } from './pagination';\n\nconst favContent = document.querySelector('.favorite-results');\nconst noFoundIngredients = `<p class=\"favorite__none\">\nYou haven't added any <br>favorite ingredients yet</p>`;\n\ngetIngredientsData();\n\nfunction makePromises() {\n  const favIngredients = FavoriteStorage.getIngredients();\n  const promises = favIngredients.reduce((acc, name) => {\n    acc.push(fetchIngredientByName(name));\n    return acc;\n  }, []);\n  return promises;\n}\n\nasync function getIngredientsData() {\n  const promises = makePromises();\n  const data = await Promise.all(promises).catch(error => console.log(error));\n\n  if (data.length === 0) {\n    favContent.innerHTML = noFoundIngredients;\n      return;\n  }\n  const numberOfCocktails = calculateCocktails();\n  favContent.innerHTML = '';\n  favContent.append(...getDrinksMarkupIngredients(data.slice(0, numberOfCocktails)));\n  createPagination(\n    data,\n    numberOfCocktails,\n    1,\n    getDrinksMarkupIngredients\n  );\n}\n"],"names":["$932db8701b90d291$export$873bae7cec94212e","amount","allPromises","count","push","fetch","then","response","json","Promise","all","data","map","item","drinks","$932db8701b90d291$export$182d4be4e08f5e71","name","$932db8701b90d291$export$161cc9256de3aab6","id","$932db8701b90d291$export$60fd80745d01af43","ingredients","$932db8701b90d291$export$567dd16123d89460","firstLetter","$9f2d64a2f456355f$export$64934d7988e5ce9f","width","document","body","clientWidth","numberOfCocktails","$dFiq8","parcelRequire","$1bab9c519cfa82bc$var$searchResults","$1bab9c519cfa82bc$var$contentResults","$1bab9c519cfa82bc$var$getMarkup","$1bab9c519cfa82bc$var$pagination","querySelector","$1bab9c519cfa82bc$export$7f3155e3cda021fd","results","pageSize","pageNumber","markupFn","$7od7n","getDrinksMarkup","totalResults","length","pagesCount","Math","ceil","inactive","result","pagesToShow","dotsAdded","i","active","includes","innerHTML","pageElements","querySelectorAll","el","className","addEventListener","$1bab9c519cfa82bc$var$changePage","$1bab9c519cfa82bc$var$addPaginationListeners","e","page","Number","target","dataset","calculateCocktails","end","start","append","slice","$lJXXB","$5614f3462d91403d$export$e9926e1be4baa597","array","strDrink","strDrinkThumb","idDrink","imageSrc","li","createElement","isInFavorite","$1Qcw2","FavoriteStorage","isCocktailInFavorite","addRemoveClassName","btnText","$parcel$interopDefault","$9juYj","$5614f3462d91403d$export$858589c490e7ecbe","$5614f3462d91403d$var$getCardMarkup","event","buttonName","showDrinkModal","addRemoveBtn","currentTarget","classList","toggle","removeCocktail","textContent","addCocktail","$cDqy2","$fd3c4fcecdc63329$var$drinkModal","$fd3c4fcecdc63329$export$b04140da9d75c744","fetchCocktailById","details","$kfdtu","strInstructions","$fd3c4fcecdc63329$var$getDrinkModalMarkup","closeCocktailBtn","ingredientList","ingredient","ingredientAmount","$fd3c4fcecdc63329$var$getIngredientsList","$aJrzc","showIngredientModal","$fd3c4fcecdc63329$var$closeCocktailModal","$fd3c4fcecdc63329$export$c5bf004229bb252","buttonFromCard","$7d037d87c507d84a$var$ingredientModal","$7d037d87c507d84a$export$63a3470e87583da6","fetchIngredientByName","isIngredientInFavorite","strIngredient","description","strDescription","replace","$8F5Dv","strType","strAlcohol","strABV","$7d037d87c507d84a$var$getIngredientModalMarkup","closeIngredientBtn","$7d037d87c507d84a$export$d1cb1e06ee3a3100","$7d037d87c507d84a$var$closeIngredientModal","isOnIngredientsPage","removeIngredient","addIngredient","module","exports","$15745b2906da656d$export$2ecec965e4a9a63a","cocktailsKey","ingredientsKey","getCocktails","JSON","parse","localStorage","getItem","this","getIngredients","tmp","setItem","stringify","idIndex","indexOf","splice","$72778db45f44829a$exports","$f81fbb49185621f4$export$bc608ed275c0c153","$f81fbb49185621f4$export$63cbea3aec574735","$f81fbb49185621f4$var$getCardMarkupIngredients","$4965aecbeeb41b49$var$favContent","async","promises","reduce","acc","$4965aecbeeb41b49$var$makePromises","catch","error","console","log","$2nhTy","createPagination","$4965aecbeeb41b49$var$getIngredientsData"],"version":3,"file":"fav-ingredients.d943e3f4.js.map"}