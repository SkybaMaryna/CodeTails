{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,CAAC,EAoBfF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,GAElC,EAaAL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,CACT,C,2FCpBA,IAAAE,EAAAC,EAAA,S,uCAKO,SAASC,IACZ,MAAO,uFAGOC,EAAAH,OAAgBG,EAAAC,4GAIhBD,EAAAE,OAAeF,EAAAG,yDAEbH,EAAAH,kGAIpB,C,sCCnBAO,EAAAC,QAAiB,IAAAC,IAAoBR,EAAA,SAAAS,QAA6C,qBAAAC,KAAUC,U,sCCA5FL,EAAAC,QAAiB,IAAAC,IAAoBR,EAAA,SAAAS,QAA6C,qBAAAC,KAAUC,U,sCCA5FL,EAAAC,QAAiB,IAAAC,IAAoBR,EAAA,SAAAS,QAA6C,qBAAAC,KAAUC,U,sCCA5FL,EAAAC,QAAiB,IAAAC,IAAoBR,EAAA,SAAAS,QAA6C,qBAAAC,KAAUC,U,ICA5FX,EAAA,SAAAY,SAA8CC,KAAKC,MAAM,mRCAzD,IAAAC,EAAAf,EAAA,S,oDCAO,MAAMgB,EAAgB,CACzBC,WAAY,iBACZC,YACI,OAAOL,KAAKC,MAAMK,aAAaC,QAAQC,KAAKJ,YAChD,EACAK,UAAUC,GACNJ,aAAaK,QAAQH,KAAKJ,WAAYJ,KAAKY,UAAUF,GACzD,EACAG,eACIP,aAAaQ,WAAWN,KAAKJ,WACjC,GDHEW,EAAcC,SAASC,iBAAiB,gBACxCC,EAAiBF,SAASG,cAAc,oBACxCC,EAAeJ,SAASG,cAAc,kBAEtCE,EAAaN,EAAY,GACzBO,EAAYP,EAAY,GAe9B,SAASQ,EAAaC,GACpBA,EAAMC,iBAEN,MAAMC,EAAaV,SAASG,cAAc,sBACpCQ,EAAmBX,SAASG,cAAc,8BAEhD,IAAKO,GAAcC,EAEjB,YADAC,OAAOC,SAAW,gBAIpB,MAAMC,EAAeN,EAAMO,OAAOC,SAASC,OAAOC,MAElDd,EAAae,UAAY,sBACzB,MAAMC,GAAoB,EAAAlC,EAAAmC,uBAE1B,EAAAC,EAAAC,sBAAqBT,GAClBU,MAAKC,IACJrB,EAAae,UAAY,YACzBjB,EAAeiB,UAAY,GAC3BjB,EAAewB,WAAY,EAAAC,EAAAC,iBACzBH,EAAKI,MAAM,EAAGT,MAEhB,EAAAU,EAAAC,kBACEN,EACAL,EACA,GAEFjC,EAAcU,cAAY,IAE3BmC,OAAOC,IACN7B,EAAae,UAAYc,EACzB/B,EAAeiB,WAAY,EAAAe,EAAAC,iBAAa,GAE9C,CA/CA9B,EAAW+B,iBAAiB,SAAU7B,GACtCD,EAAU8B,iBAAiB,SAAU7B,GAErCF,EAAW+B,iBAAiB,SAAS,KACnC9B,EAAUU,SAASC,OAAOC,MAAQb,EAAWW,SAASC,OAAOC,MAC7D/B,EAAcM,UAAUY,EAAWW,SAASC,OAAOC,MAAK,IAG1DZ,EAAU8B,iBAAiB,SAAS,KAClC/B,EAAWW,SAASC,OAAOC,MAAQZ,EAAUU,SAASC,OAAOC,MAC7D/B,EAAcM,UAAUa,EAAUU,SAASC,OAAOC,MAAK","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/get-error-markup.js","node_modules/@parcel/runtime-js/lib/runtime-368966c2db27b071.js","node_modules/@parcel/runtime-js/lib/runtime-ffc8efe233861940.js","node_modules/@parcel/runtime-js/lib/runtime-3b4b9dcfce3e79ee.js","node_modules/@parcel/runtime-js/lib/runtime-ca8416468db7fb9d.js","node_modules/@parcel/runtime-js/lib/runtime-4d2c0dd27cad3705.js","src/js/search.js","src/js/search-storage.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import servingDesk from '../img/serving_desk.png';\nimport servingDesk2 from '../img/serving_desk@2x.png';\nimport servingMob from '../img/serving_mob.png';\nimport servingMob2 from '../img/serving_mob@2x.png';\n\nexport function getErrorMarkup() {\n    return `<li><picture>\n        <source\n        media=\"(min-width: 768px)\"\n        srcset=\"${servingDesk}, ${servingDesk2} 2x\"\n        type=\"image/png\"/>\n        <source\n        media=\"(max-width: 767px)\"\n        srcset=\"${servingMob}, ${servingMob2} 2x\"\n        type=\"image/png\"/>\n        <img src=\"${servingDesk}\" alt=\"People in the cafe\" width=\"345\" height=\"380\"/>\n        </picture>\n        </li>\n    `;\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2MPDQ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4zLgd\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"aVWWu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3KIbu\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"6YlnP\\\":\\\"fav-cocktails.141c6245.js\\\",\\\"2MPDQ\\\":\\\"serving_desk.12e16403.png\\\",\\\"4zLgd\\\":\\\"serving_desk@2x.81b62eeb.png\\\",\\\"aVWWu\\\":\\\"serving_mob.348bdfb7.png\\\",\\\"3KIbu\\\":\\\"serving_mob@2x.f621808a.png\\\"}\"));","import { calculateCocktails } from './calculate';\nimport { fetchCocktailsByName } from './fetch-cocktails';\nimport { getDrinksMarkup } from './get-drinks-markup';\nimport { getErrorMarkup } from './get-error-markup';\nimport { createPagination } from './pagination';\nimport { SearchStorage } from './search-storage';\n\nconst searchForms = document.querySelectorAll('.search-form');\nconst contentResults = document.querySelector('#content-results');\nconst contentTitle = document.querySelector('#content-title');\n\nconst mainSearch = searchForms[0];\nconst mobSearch = searchForms[1];\n\nmainSearch.addEventListener('submit', getCocktails);\nmobSearch.addEventListener('submit', getCocktails);\n\nmainSearch.addEventListener('input', () => {\n  mobSearch.elements.search.value = mainSearch.elements.search.value;\n  SearchStorage.setSearch(mainSearch.elements.search.value);\n});\n\nmobSearch.addEventListener('input', () => {\n  mainSearch.elements.search.value = mobSearch.elements.search.value;\n  SearchStorage.setSearch(mobSearch.elements.search.value);\n});\n\nfunction getCocktails(event) {\n  event.preventDefault();\n  \n  const isHomePage = document.querySelector('[data-page=\"main\"]');\n  const isMobileMenuOpen = document.querySelector('.js-menu-container.is-open');\n\n  if (!isHomePage || isMobileMenuOpen) {\n    window.location = './index.html';\n    return;\n  }\n\n  const cocktailName = event.target.elements.search.value;\n\n  contentTitle.innerHTML = 'Searching results..';\n  const numberOfCocktails = calculateCocktails();\n\n  fetchCocktailsByName(cocktailName)\n    .then(data => {\n      contentTitle.innerHTML = 'Cocktails';\n      contentResults.innerHTML = \"\";\n      contentResults.append ( ...getDrinksMarkup(\n        data.slice(0, numberOfCocktails)\n      ));\n      createPagination(\n        data,\n        numberOfCocktails,\n        1\n      );\n      SearchStorage.cleanStorage();\n    })\n    .catch((error) => {\n      contentTitle.innerHTML = error\n      contentResults.innerHTML = getErrorMarkup()\n    });\n}\n","export const SearchStorage = {\n    storageKey: 'search-storage',\n    getSearch() {\n        return JSON.parse(localStorage.getItem(this.storageKey));\n    },\n    setSearch(searchQuery) {\n        localStorage.setItem(this.storageKey, JSON.stringify(searchQuery));\n    },\n    cleanStorage() {\n        localStorage.removeItem(this.storageKey);\n    }\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7QV8w","parcelRequire","$0d6fd49f3ac5b363$export$6eb1a59944ddc615","$parcel$interopDefault","$62ejj","$O7LYl","$Hye3R","module","exports","URL","resolve","url","toString","register","JSON","parse","$dFiq8","$cdd2d378a1634e08$export$2d97b735e058843","storageKey","getSearch","localStorage","getItem","this","setSearch","searchQuery","setItem","stringify","cleanStorage","removeItem","$b18fd23e9761f35d$var$searchForms","document","querySelectorAll","$b18fd23e9761f35d$var$contentResults","querySelector","$b18fd23e9761f35d$var$contentTitle","$b18fd23e9761f35d$var$mainSearch","$b18fd23e9761f35d$var$mobSearch","$b18fd23e9761f35d$var$getCocktails","event","preventDefault","isHomePage","isMobileMenuOpen","window","location","cocktailName","target","elements","search","value","innerHTML","numberOfCocktails","calculateCocktails","$cDqy2","fetchCocktailsByName","then","data","append","$7od7n","getDrinksMarkup","slice","$2nhTy","createPagination","catch","error","$19wu9","getErrorMarkup","addEventListener"],"version":3,"file":"fav-cocktails.141c6245.js.map"}